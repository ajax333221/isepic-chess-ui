<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Isepic Chess UI - Demo</title>
		
		<link rel="stylesheet" href="./css/isepic-chess-ui.css">
		
		<style>
			html, body, .flex_wrapper{
				height: 100%;
				padding: 0;
				margin: 0;
			}
			
			.flex_wrapper{
				display: flex;
				align-items: stretch;
				justify-content: space-around;
				width: 100%;
			}
			
			.flex_child{
				min-height: 100%;
				width: 100%;
			}
			
			.ic_ui_main{
				min-width: 100%; /*this is an overwrite*/
			}
			
			.ic_ui_materialdiff{
				display: inline-block; /*this is an overwrite*/
			}
			
			.ic_ui_board{
				margin:0 auto; /*this is an overwrite*/
			}
			
			.ic_ui_debug{
				font-size: 12px; /*this is an overwrite*/
				max-height: 200px;
				overflow-x: hidden;
				overflow-y: auto;
			}
			
			.padded{padding: 20px 50px;}
			
			#left_elm{background: #f0f0f0;}
			#right_elm{background: #f9f9f9;}
		</style>
		
		<script src="./js/jquery-3.3.1.min.js"></script>
		<script src="./js/isepic-chess.js"></script>
		<script src="./js/isepic-chess-ui.js"></script>
		
		<script>
			function stretch_board(){
				var elm_flex_wrapper, w_temp, h_temp;
				
				elm_flex_wrapper=$("#right_elm");
				
				w_temp=elm_flex_wrapper.width();
				h_temp=elm_flex_wrapper.height();
				
				$("#ic_ui_board").parent().css({
					"width" : Math.min(w_temp, h_temp),
					"height" : Math.min(w_temp, h_temp)
				});
			}
			
			function display_debug(){
				if(!$(".ic_ui_debug").length){
					$("#right_elm .padded").first().append("<br><hr><br><div class='ic_ui_debug'><div><a id='ic_ui_debug_toggle' href='#'>Debug â–²</a></div><div id='ic_ui_debug' style='display:none'></div>");
					
					if(Ic.getBoard("main")){
						Ic.getBoard("main").refreshUi();
					}
				}
			}
			
			$(function(){
				var Debug_clic;
				
				Ic.setSilentMode(false);
				
				Ic.initBoard({
					boardName : "main"
				});
				
				$(window).on("resize", stretch_board);
				
				stretch_board();
				
				$(".ic_ui_header h3").click(function(){
					Debug_clic=((Debug_clic*1 || 0)+1);
					
					if(Debug_clic>3){
						display_debug();
					}
				});
				
				console.log("Note: to display the debug box call display_debug() or click the GitHub header a few times");
			});
		</script>
	</head>
	<body>
		<div class="ic_ui_main flex_wrapper">
			<div id="left_elm" class="flex_child">
				<div class="ic_ui_board">
					<div id="ic_ui_board"></div>
				</div>
			</div>
			
			<div id="right_elm" class="flex_child">
				<div class="padded">
					<div class="ic_ui_header">
						<h3>GitHub: <a href="https://github.com/ajax333221/isepic-chess">isepic-chess</a> | <a href="https://github.com/ajax333221/isepic-chess-ui">isepic-chess-ui</a></h3>
					</div>
					
					<br><hr><br>
					
					<div class="ic_ui_controls">
						<div>
							<input id="ic_ui_nav_first" value="|<" type="button">
							<input id="ic_ui_nav_previous" value="<" type="button">
							<input id="ic_ui_nav_next" value=">" type="button">
							<input id="ic_ui_nav_last" value=">|" type="button">
							<input id="ic_ui_rotate" value="rotate" type="button">
							
							<select id="ic_ui_promote">
								<option value="5" selected="selected">queen</option>
								<option value="4">rook</option>
								<option value="3">bishop</option>
								<option value="2">knight</option>
							</select>
						</div>
						
						<br>
						
						<div class="ic_ui_movelist">
							<div id="ic_ui_movelist"></div>
						</div>
						
						<br>
						
						<div>
							<input id="ic_ui_fen" value="" type="text">
						</div>
					</div>
					
					<br>
					
					<div class="ic_ui_materialdiff">
						<div id="ic_ui_materialdiff"></div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
